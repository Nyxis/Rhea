<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- Always force latest IE rendering engine or request Chrome Frame -->
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

        <title>{% block title %}Rhea{% endblock %}</title>
        {% block stylesheets %}
            <link href="{{ asset('stylesheets/application.css') }}" media="screen" rel="stylesheet" type="text/css" />
            <link href="{{ asset('stylesheets/font-awesome.css') }}" media="screen" rel="stylesheet" type="text/css" />
            <link href="{{ asset('stylesheets/main.css') }}" media="screen" rel="stylesheet" type="text/css" />

            <!--[if lt IE 9]>
            <link href="{{ asset('stylesheets/iefix.css') }}" media="screen" rel="stylesheet" type="text/css" />
            <![endif]-->

            <link href="{{ asset('stylesheets/prettify.css') }}" media="screen" rel="stylesheet" type="text/css" />
        {% endblock %}

        {% block javascripts %}
            <!--[if lt IE 9]>
            <script src="{{ asset('javascripts/html5shiv.js') }}" type="text/javascript"></script>
            <script src="{{ asset('javascripts/excanvas.js') }}" type="text/javascript"></script>
            <script src="{{ asset('javascripts/iefix.js') }}" type="text/javascript"></script>
            <![endif]-->
            <script src="{{ asset('javascripts/application.js') }}" type="text/javascript"></script>
            <script src="{{ asset('javascripts/prettify.js') }}" type="text/javascript"></script>
            <script type="text/javascript">
                prettyPrint()
            </script>

            <script src="{{ asset('bundles/extiacomment/js/comments.js') }}"type="text/javascript"></script>

            <script type="text/javascript">
                jQuery(document).ready(function($) {
                    // loader ajax
                    $('#ajaxWaiter').css('height', $(document).height());
                    $('#ajaxWaiterConteneur').css({
                        top: ($('#ajaxWaiter').innerHeight()-100)/2,
                        left: ($('#ajaxWaiter').innerWidth()-150)/2
                    });
                    $('#ajaxWaiter').each(function(index, elt){
                        $(elt).ajaxStart(function() {
                            $('#ajaxWaiter, #ajaxWaiterConteneur').show();
                        });

                        $(elt).ajaxStop(function() {
                            $('#ajaxWaiter, #ajaxWaiterConteneur').hide();
                        });
                    });
                });
            </script>
        {% endblock %}

        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
        <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=0">
    </head>
    {% block body %}
    <body>
        {% block modal %}{% endblock %}
        <div class="navbar navbar-inverse">
            <div class="navbar-inner">
                <div class="container">
                    <a href="{{ path('Rhea_homepage') }}" class="brand">Rhea</a>
                </div>
            </div>
        </div>
        {% block main_nav %}
        <nav id="secondary" class="main-nav">
            {# user profile #}
            <ul>
                <li class="profile-menu">
                    <div class="tabular">
                        <div>
                            <p class="avatar"><img src="{{ gravatar(app.user.email, 50) }}"></p>
                        </div>
                        <div class="profile">
                            <div class="btn-group user_actions">
                                <button data-toggle="dropdown" class="button mini inset black dropdown-toggle"><i class="icon-cog"></i></button>
                                <ul class="dropdown-menu black-box-dropdown">
                                    <li><a href="{{ path('easy_task_logout') }}"><i class="icon-off"></i>{{ 'logout_link'|trans }}</a></li>
                                </ul>
                            </div>
                            <div class="title">{{ app.user.longName }}</div>
                            <p style="color: #FFFFFF;">{{ app.user.group.label|capitalize }}</p>
                        </div>
                    </div>
                </li>
            </ul>

            {# menu #}
            {{ knp_menu_render('main_menu') }}


        </nav>
        {% endblock %}

        <section id="main">
            <div class="top-nav">
            {% block top_nav %}
                <div class="container-fluid">
                    <div class="row-fluid">
                        <div class="span12">
                        {% block breadcrumbs %}{% endblock %}
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span12 search-button-bar-container">
                            {% block search_bar %}
                            <form><input type="text" placeholder="Search..." class="search"></form>
                            {% endblock %}
                        </div>
                    </div>
                </div>
            {% endblock %}
            </div>
            <div class="container-fluid">
            {% block content %}
                {% block content_top %}{% endblock content_top %}
                <div class="row-fluid">
                    <div class="span7">
                        {% block main %}{% endblock main %}
                    </div>
                    <div class="span5">
                        {% block sidebar %}{% endblock sidebar %}
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        {% block footer %}<div class="footer">2013 &copy; Extia</div>{% endblock %}
                    </div>
                </div>
            {% endblock content %}
            </div>
        </section>

        {% block notifications %}
            {{ render(controller('ExtiaFrontBundle:Notification:display')) }}
        {% endblock %}

        {% block ajaxWaiter %}
            <div id="ajaxWaiter" style="display:none;"></div>
            <div id="ajaxWaiterConteneur" style="display:none;">
                <img src="{{ asset('images/ajax-loader.gif') }} " alt=""><br />
                {{ 'ajax_loading'|trans }}...
            </div>
        {% endblock %}

    </body>
    {% endblock %}
</html>
